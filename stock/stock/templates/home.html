{% extends 'index.html' %}

{% block content %}

<div class="container-fluid slide">
    <div class="row">
        <div class="owl-carousel owl-theme">
            <div class="index">
              <!-- {% for eachGainer in allgainer %} -->
              <div class="card" style="width: 9rem;">
                <div class="card-body">
                  <h5 class="card-title">Hello</h5>
                  <img src="https://getbootstrap.com/docs/4.5/assets/brand/bootstrap-solid.svg" width="30" height="30" alt=""/>
                  <p class="card-text">Some quick example </p>
                  <a href="#" class="card-link">Hello</a>
                </div>
              </div> 
              <!-- {% endfor %} -->
            </div>
        </div> 
    </div>
</div>
<div class="container-fluid">
    <div class="row">
        <div class="col-lg-8 col-md-8 col-sm-6 chart">
            <!-- <h1>Hello World</h1> -->
            <div class="tradingview-widget-container">
              <div id="tradingview_0f56b"></div>
              <script type="text/javascript" src="https://s3.tradingview.com/tv.js"></script>
              <script type="text/javascript">
              new TradingView.widget(
              {
              // "autosize": true,
              "height": 610,
              "width": 780,
              "symbol": "NASDAQ:MSFT",
              "interval": "D",
              "timezone": "Etc/UTC",
              "theme": "dark",
              "style": "1",
              "locale": "en",
              "toolbar_bg": "#f1f3f6",
              "enable_publishing": false,
              "allow_symbol_change": true,
              "container_id": "tradingview_18ef5"
            }
              );
              </script>
            </div>
        </div>
        <div class="col-lg-4 col-md-4 col-sm-6 news">
            <h1>Latest News</h1>
            <ul class="list-unstyled">
              {% for news in news %}
              <li class="media">
                <img src="{{news.image}}" class="mr-3" alt="..." width="80" height="70">
                <div class="media-body">
                  <h5 class="mt-0 mb-1"></span><a href="{{news.url}}">{{news.headline}}</a></h5>
                  <p>{{news.summary}}</p>
                  <span>{{news.source}}</span>
                </div>
              </li>
              {% endfor %}
            </ul>
        </div>
    </div>
</div>
<div class="container-fluid top-gainers">
  <table class="table table-sm table-dark">
    <thead>
      <tr>
        <th scope="col">Symbol</th>
        <th scope="col">Name</th>
        <th scope="col">MarketCap</th>
        <th scope="col">Day Range</th>
        <th scope="col">Percent Change</th>
      </tr>
    </thead>
    <tbody>
      {% for allgainer in allGainer %}
      <tr>
        <td>{{allgainer.symbol}}</td>
        <td>{{allgainer.shortName}}</td>
        <td>{{allgainer.marketCap}}</td>
        <td>{{allgainer.regularMarketDayRange}}</td>
        <td>{{allgainer.regularMarketChangePercent}}</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>

</div>
<div class="container-fluid">
    <div class="row">
        <div class="col-lg-4 col-md-3 col-sm-2 economic-calender">
          <div class="list-group">
            <ul>
            {% for event in events %}
            <li class="list-group-item list-group-item-action">
              <div class="d-flex w-100 justify-content-between">
                <h5 class="mb-1">{{event.event}}<span>({{event.country}})</span></h5>
                <small>{{event.time}}<span><br />{{event.impact}}</span></small>
              </div>
            </li>
            {% endfor %}
          </ul>
          </div>
        </div>
        <div class="col-lg-8 col-md-9 col-sm-10 earningtable">
            <table class="table table-striped table-dark">
                <thead>
                  <tr>
                    <th scope="col">Date</th>
                    <th scope="col">Release Time</th>
                    <th scope="col">Symbol</th>
                    <th scope="col">Quarter</th>
                    <th scope="col">Estimated EPS</th>
                    <th scope="col">Estimate Revenue</th>
                  </tr>
                </thead>
                <tbody>
                {% for earnings in earnings %}
                  <tr>
                    <td>{{earnings.date}}</td>
                    <td>{{earnings.hour}}</td>
                    <td>{{earnings.symbol}}</td>
                    <td>{{earnings.quarter}}</td>
                    <td>{{earnings.epsEstimate}}</td>
                    <td>{{earnings.revenueEstimate}}</td>
                  </tr>
                {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
</div>

<!-- TradingView Widget BEGIN -->
<!-- <div class="tradingview-widget-container">
  <div id="tradingview_ee616"></div>
  <div class="tradingview-widget-copyright"><a href="https://in.tradingview.com/symbols/NASDAQ-AAPL/" rel="noopener" target="_blank"><span class="blue-text">AAPL Chart</span></a> by TradingView</div>
  <script type="text/javascript" src="https://s3.tradingview.com/tv.js"></script>
  <script type="text/javascript">
  new TradingView.widget(
  {
  "width": 980,
  "height": 610,
  "symbol": "NASDAQ:AAPL",
  "interval": "D",
  "timezone": "Etc/UTC",
  "theme": "dark",
  "style": "1",
  "locale": "in",
  "toolbar_bg": "#f1f3f6",
  "enable_publishing": false,
  "allow_symbol_change": true,
  "container_id": "tradingview_ee616"
}
  );
  </script>
</div> -->
<!-- TradingView Widget END -->


{% endblock %}